## 热点分析
![](https://img2024.cnblogs.com/blog/3374254/202503/3374254-20250316201051774-699402776.png)

分析显示，大部分CPU时间消耗在分数相关的逻辑处理上，主要包括：
- gcd：计算最大公约数以简化分数
- parseFractoation：分数解析

鉴于分数操作是系统的核心功能，且其计算复杂度本身高于整数和小数，这部分开销是合理的。

## 火焰图
![](https://img2024.cnblogs.com/blog/3374254/202503/3374254-20250316204657629-374140393.png)

火焰图进一步证实了分数处理逻辑占用了主要计算资源。然而，从更宏观的角度看，大量时间用于表达式正确性校验。虽然确保表达式正确是必要需求，但可以考虑在算法设计层面进行优化，通过构造性方法确保生成的表达式天然合规，从而避免生成后再解析验证的额外开销。

## 单元测试
![](https://img2024.cnblogs.com/blog/3374254/202503/3374254-20250316215213633-1472672741.png)
整体覆盖率80%，关键路径覆盖率100%


### 测试设计概览

本项目的测试套件主要针对以下组件进行了测试：

1. **ExpressionGeneratorTest** - 测试表达式生成功能
2. **PostfixConverterTest** - 测试中缀表达式到后缀表达式的转换
3. **PostfixCalculatorTest** - 测试后缀表达式的计算功能（待开发）
4. **MainTest** - 测试主程序的功能（待开发）

### 测试组件详情

### ExpressionGeneratorTest

该测试组件验证表达式生成器的功能正确性，主要包括：

- **testGenerateExpression**: 测试表达式生成器能够根据指定的操作符数量（1-3个）生成有效的表达式。
  - 验证生成的表达式对象不为空
  - 验证表达式字符串格式化正确
  - 对1到3个操作符的所有情况进行测试

- **testRangeConstraint**: 测试表达式生成器遵循指定的数值范围约束。
  - 设置数值范围为5，生成多个表达式确保不会崩溃
  - 目前仅验证基本功能，后续可优化为具体验证数值范围

#### PostfixConverterTest

该测试组件验证中缀表达式到后缀表达式转换的正确性：

- **testSimpleInfixToPostfixConversion**: 测试简单表达式的转换。
  - 将"2 + 3"中缀表达式正确转换为"2 3 +"后缀表达式

- **testComplexInfixToPostfixConversion**: 测试包含括号的复杂表达式转换。
  - 将"(2 + 3) * 4"中缀表达式正确转换为"2 3 + 4 *"后缀表达式

### 待开发测试

#### PostfixCalculatorTest (待实现)

计划测试后缀表达式计算器，包括：
- 基本四则运算测试
- 复杂表达式计算测试
- 边界情况处理测试

#### MainTest (待实现)

计划测试主程序功能，包括：
- 命令行参数解析测试
- 文件生成测试
- 集成测试验证整体流程

### 运行测试

所有测试均使用Maven自动化构建和测试，可通过以下命令运行：

```bash
mvn test
```

或使用IDE（如IntelliJ IDEA、Eclipse）中的测试运行功能直接运行单个测试类或方法。
